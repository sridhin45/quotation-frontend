

<div class="quotation-container">



  <!-- HEADER -->
  <div class="header">
    <div class="logo">
      <img src="assets/celastial.png" alt="Company Logo" />
    </div>

    <div class="company-info">
      <h1>CELESTIAL LIGHTS</h1>
      <p>XLVI/794, Near Income Tax Office, Kannothumchal, Kannur</p>
      <p>Phone: +91-7560940958</p>
      <p>Email: celestiallightskannurgmail.com</p>
      <p>Website: www.celestiallights.com</p>
    </div>
  </div>

  <!-- TITLE -->
  <h2 class="title">QUOTATION</h2>

  <!-- CUSTOMER DETAILS BOX -->
  <div class="details-box">
    <div class="row">
      <span class="label">Quotation No:</span>
      <span class="value">{{ quotation?.quote_no }}</span>
    </div>
    <div class="row">
      <span class="label">Date:</span>
      <span class="value">{{ quotation?.created_at | date:'dd-MMM-yyyy' }}</span>
    </div>
    <div class="row">
      <span class="label">Customer:</span>
      <span class="value">{{ quotation?.customer_name }}</span>
    </div>
    <div class="row">
      <span class="label">Phone:</span>
      <span class="value">{{ quotation?.customer_phone }}</span>
    </div>
    <div class="row">
      <span class="label">Salesman:</span>
      <span class="value">{{ quotation?.salesman_name }}</span>
    </div>
  </div>

  <!-- ITEMS TABLE -->
  <table class="items-table">
    <thead>
      <tr>
        <th>Sl No</th>
        <th>Item Name</th>
        <th>Image</th>
        <th>Qty</th>
        <th>Unit Price</th>
        <th>Total</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let item of quotation?.items; let i = index">
        <td>{{ i + 1 }}</td>
        <td>{{ item.item.name }}</td>
<td>
  <img
    *ngIf="item.item.image"
    class="item-img"
    [src]="item.item.image"
    alt="Item image"
     [style.width.px]="70"
  [style.height.px]="70"
  style="object-fit: cover; border-radius: 6px;"
  />

  <span *ngIf="!item.item.image">—</span>
</td>


        <td>{{ item.qty }}</td>
        <td>{{ item.price | number:'1.2-2' }}</td>
<td>{{ item.qty * item.price | number:'1.2-2' }}</td>
</tr>
    </tbody>
  </table>

  <!-- TOTAL -->
<div class="total-box">
  <span class="label">TOTAL:</span>
  <span class="value">₹ {{ getGrandTotal() | number:'1.2-2' }}</span>
</div>



  <!-- TOTAL -->

  <!-- BANK DETAILS -->
  <h2 class="sub-title">Bank Details</h2>

  <div class="bank-details">
    <p>Account Name: <b>CELESTIAL LIGHTS</b></p>
    <p>Account No: <b>50200107775048</b></p>
    <p>Bank: <b>HDFC BANK LTD</b></p>
    <p>Branch: <b>KANNUR</b></p>
    <p>IFSC Code: <b>HDFC0001522</b></p>
  </div>

  <!-- TERMS -->
  <h2 class="sub-title">Terms & Conditions</h2>

  <ul class="terms">
    <li>There is no return which products are against ordered.</li>
    <li>Quotation valid for 10 days.</li>
    <li>Work will commence after advance payment.</li>
    <li>Payment Terms:
      <ul>
        <li>80% advance on confirmation.</li>
        <li>Remaining before dispatch.</li>
        <li>Free delivery.</li>
        <li>Delivery 4 days if in stock; else 6–10 days.</li>
      </ul>
    </li>
    <li>Date of receipt of advance = order confirmation date.</li>
    <li>Customer must verify product condition at delivery.</li>
  </ul>

  <!-- <button class="pdf-btn" (click)="downloadPDF()">Download PDF</button> -->

</div>
<br>

<div class="top-actions">
<button mat-raised-button color="primary" class="action-btn" (click)="printQuotation()">
  <mat-icon>print</mat-icon>
  Print
</button>
 <button mat-raised-button color="warn" class="action-btn"
        (click)="deleteQuotation(quotation.id)">
  <mat-icon>delete</mat-icon>
  Delete
</button>

</div>
